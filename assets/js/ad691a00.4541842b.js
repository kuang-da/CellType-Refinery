"use strict";(globalThis.webpackChunkcelltype_refinery_docs=globalThis.webpackChunkcelltype_refinery_docs||[]).push([[2377],{6228(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"modules/refinement/overview","title":"Refinement Overview","description":"The refinement module improves cell type annotations through automatic and manual policies. It provides a flexible framework for correcting, merging, splitting, and relabeling clusters based on statistical evidence and expert knowledge.","source":"@site/docs/modules/refinement/overview.md","sourceDirName":"modules/refinement","slug":"/modules/refinement/overview","permalink":"/CellType-Refinery/docs/modules/refinement/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/kuang-da/CellType-Refinery/tree/main/celltype-refinery-docs/docs/modules/refinement/overview.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Annotation Exports","permalink":"/CellType-Refinery/docs/modules/annotation/exports"},"next":{"title":"Refinement Policies","permalink":"/CellType-Refinery/docs/modules/refinement/policies"}}');var s=i(4848),l=i(8453);const t={sidebar_position:1},o="Refinement Overview",c={},d=[{value:"Architecture",id:"architecture",level:2},{value:"Key Components",id:"key-components",level:3},{value:"Execution Modes",id:"execution-modes",level:2},{value:"Diagnostic Mode (Default)",id:"diagnostic-mode-default",level:3},{value:"Execution Mode",id:"execution-mode",level:3},{value:"Policy Combinations",id:"policy-combinations",level:3},{value:"Auto-only Mode",id:"auto-only-mode",level:4},{value:"Manual-only Mode",id:"manual-only-mode",level:4},{value:"Hybrid Mode",id:"hybrid-mode",level:4},{value:"Operation Types",id:"operation-types",level:2},{value:"Operation Details",id:"operation-details",level:3},{value:"Execution Order",id:"execution-order",level:3},{value:"AutoPolicy Selection Criteria",id:"autopolicy-selection-criteria",level:2},{value:"Decision Thresholds",id:"decision-thresholds",level:3},{value:"CLI Examples",id:"cli-examples",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Manual Configuration",id:"manual-configuration",level:3},{value:"Output Control",id:"output-control",level:3},{value:"Advanced Options",id:"advanced-options",level:3},{value:"See Also",id:"see-also",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"refinement-overview",children:"Refinement Overview"})}),"\n",(0,s.jsx)(n.p,{children:"The refinement module improves cell type annotations through automatic and manual policies. It provides a flexible framework for correcting, merging, splitting, and relabeling clusters based on statistical evidence and expert knowledge."}),"\n",(0,s.jsx)(n.admonition,{title:"Deep Dive",type:"tip",children:(0,s.jsxs)(n.p,{children:["For the decision logic behind refinement, see ",(0,s.jsx)(n.a,{href:"/CellType-Refinery/docs/methodology/refinement-decision-logic",children:"Refinement Decision Logic"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,s.jsx)(n.p,{children:"The refinement system uses a two-policy architecture that allows automatic recommendations to be combined with manual overrides:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        REFINEMENT ARCHITECTURE                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                             \u2502\n\u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                          \u2502\n\u2502    \u2502   AutoPolicy    \u2502         \u2502  ManualPolicy   \u2502                          \u2502\n\u2502    \u2502  (--auto flag)  \u2502         \u2502 (--config YAML) \u2502                          \u2502\n\u2502    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                          \u2502\n\u2502             \u2502                           \u2502                                   \u2502\n\u2502             \u25bc                           \u25bc                                   \u2502\n\u2502        base_plan                   overlay_plan                             \u2502\n\u2502             \u2502                           \u2502                                   \u2502\n\u2502             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                   \u2502\n\u2502                         \u25bc                                                   \u2502\n\u2502              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                        \u2502\n\u2502              \u2502    merge_plans()    \u2502                                        \u2502\n\u2502              \u2502  (overlay wins on   \u2502                                        \u2502\n\u2502              \u2502   conflicts)        \u2502                                        \u2502\n\u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                        \u2502\n\u2502                         \u25bc                                                   \u2502\n\u2502                    merged_plan                                              \u2502\n\u2502                         \u2502                                                   \u2502\n\u2502                         \u25bc                                                   \u2502\n\u2502              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                        \u2502\n\u2502              \u2502  RefinementEngine   \u2502                                        \u2502\n\u2502              \u2502  (execute plan)     \u2502                                        \u2502\n\u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                        \u2502\n\u2502                         \u25bc                                                   \u2502\n\u2502                   refined.h5ad                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(n.h3,{id:"key-components",children:"Key Components"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"AutoPolicy"}),": Analyzes scoring metrics and automatically generates refinement recommendations based on configurable thresholds"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ManualPolicy"}),": Reads user-defined YAML configuration files specifying exact operations to perform"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"merge_plans()"}),": Combines base and overlay plans, with manual overrides taking precedence on conflicts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"RefinementEngine"}),": Executes the merged plan and produces the refined output"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"execution-modes",children:"Execution Modes"}),"\n",(0,s.jsx)(n.p,{children:"The refinement module supports two primary execution modes that control whether changes are applied to the data:"}),"\n",(0,s.jsx)(n.h3,{id:"diagnostic-mode-default",children:"Diagnostic Mode (Default)"}),"\n",(0,s.jsxs)(n.p,{children:["When run without the ",(0,s.jsx)(n.code,{children:"--execute"})," flag, the refinement module operates in diagnostic mode:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Analyzes the input data and generates recommendations"}),"\n",(0,s.jsxs)(n.li,{children:["Produces a ",(0,s.jsx)(n.code,{children:"diagnostic_report.csv"})," with suggested refinements"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Does not modify the input data"})}),"\n",(0,s.jsx)(n.li,{children:"Useful for reviewing proposed changes before committing"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Diagnostic mode - review recommendations first\ncelltype-refinery refine input.h5ad --auto\n"})}),"\n",(0,s.jsx)(n.h3,{id:"execution-mode",children:"Execution Mode"}),"\n",(0,s.jsxs)(n.p,{children:["When the ",(0,s.jsx)(n.code,{children:"--execute"})," flag is provided, refinements are applied:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Executes all planned operations on the data"}),"\n",(0,s.jsxs)(n.li,{children:["Outputs a new ",(0,s.jsx)(n.code,{children:"refined.h5ad"})," file with updated annotations"]}),"\n",(0,s.jsx)(n.li,{children:"Original input file remains unchanged"}),"\n",(0,s.jsx)(n.li,{children:"Generates an execution log for audit purposes"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Execution mode - apply refinements\ncelltype-refinery refine input.h5ad --auto --execute\n"})}),"\n",(0,s.jsx)(n.h3,{id:"policy-combinations",children:"Policy Combinations"}),"\n",(0,s.jsx)(n.p,{children:"The refinement module supports three policy configurations:"}),"\n",(0,s.jsx)(n.h4,{id:"auto-only-mode",children:"Auto-only Mode"}),"\n",(0,s.jsx)(n.p,{children:"Uses only the AutoPolicy to generate and apply refinements based on statistical analysis:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"celltype-refinery refine input.h5ad --auto --execute\n"})}),"\n",(0,s.jsx)(n.p,{children:"Best for:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Initial annotation passes"}),"\n",(0,s.jsx)(n.li,{children:"Large datasets requiring automated curation"}),"\n",(0,s.jsx)(n.li,{children:"When manual review is not feasible"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"manual-only-mode",children:"Manual-only Mode"}),"\n",(0,s.jsx)(n.p,{children:"Uses only the ManualPolicy with a user-defined YAML configuration:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"celltype-refinery refine input.h5ad --config curation.yaml --execute\n"})}),"\n",(0,s.jsx)(n.p,{children:"Best for:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Expert-driven curation workflows"}),"\n",(0,s.jsx)(n.li,{children:"Applying known corrections from literature"}),"\n",(0,s.jsx)(n.li,{children:"Reproducible, version-controlled refinements"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"hybrid-mode",children:"Hybrid Mode"}),"\n",(0,s.jsx)(n.p,{children:"Combines AutoPolicy recommendations with manual overrides. Manual configurations take precedence when conflicts occur:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"celltype-refinery refine input.h5ad --auto --config overrides.yaml --execute\n"})}),"\n",(0,s.jsx)(n.p,{children:"Best for:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Leveraging automation while maintaining expert control"}),"\n",(0,s.jsx)(n.li,{children:"Correcting specific auto-generated recommendations"}),"\n",(0,s.jsx)(n.li,{children:"Iterative refinement workflows"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"operation-types",children:"Operation Types"}),"\n",(0,s.jsx)(n.p,{children:"The refinement module supports five operation types, each serving a distinct purpose:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Operation"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Source"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Override"}),(0,s.jsx)(n.td,{children:"Direct label assignment"}),(0,s.jsx)(n.td,{children:"ManualPolicy"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Merge"}),(0,s.jsx)(n.td,{children:"Combine similar clusters"}),(0,s.jsx)(n.td,{children:"ManualPolicy"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Subcluster"}),(0,s.jsx)(n.td,{children:"Re-cluster at finer resolution"}),(0,s.jsx)(n.td,{children:"AutoPolicy or ManualPolicy"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Relabel"}),(0,s.jsx)(n.td,{children:"Update label without re-clustering"}),(0,s.jsx)(n.td,{children:"AutoPolicy"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Rescore"}),(0,s.jsx)(n.td,{children:"Recompute scores"}),(0,s.jsx)(n.td,{children:"AutoPolicy (automatic)"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"operation-details",children:"Operation Details"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Override"}),": Directly assigns a new cell type label to a cluster, bypassing all scoring logic. Used when expert knowledge contradicts automated predictions."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Merge"}),": Combines two or more clusters into a single cluster. Typically used when clusters represent the same cell type but were over-split during initial clustering."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Subcluster"}),": Re-clusters cells within a cluster at a finer resolution. Used when a cluster contains heterogeneous cell populations that should be separated."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Relabel"}),": Updates the assigned label based on re-evaluation of scores without modifying cluster membership. Used when the top-scoring label changes after threshold adjustments."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Rescore"}),": Recomputes confidence scores for all clusters. Automatically triggered after structural changes (merge, subcluster) to ensure score consistency."]}),"\n",(0,s.jsx)(n.h3,{id:"execution-order",children:"Execution Order"}),"\n",(0,s.jsx)(n.p,{children:"Operations are executed in a specific order to ensure consistency and avoid conflicts:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"override \u2192 merge \u2192 subcluster \u2192 relabel \u2192 rescore\n"})}),"\n",(0,s.jsx)(n.p,{children:"This ordering ensures that:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Direct overrides are applied first, preventing unnecessary computation"}),"\n",(0,s.jsx)(n.li,{children:"Merges consolidate clusters before subclustering decisions"}),"\n",(0,s.jsx)(n.li,{children:"Subclustering creates new clusters that can then be relabeled"}),"\n",(0,s.jsx)(n.li,{children:"Relabeling uses the final cluster structure"}),"\n",(0,s.jsx)(n.li,{children:"Rescoring reflects all structural changes"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"autopolicy-selection-criteria",children:"AutoPolicy Selection Criteria"}),"\n",(0,s.jsx)(n.p,{children:"The AutoPolicy uses a rules-based system to determine which operations to recommend for each cluster. Key decision factors include:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Confidence Score"}),": Primary metric for label reliability"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Delta Score"}),": Difference between top two candidate labels"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cluster Size"}),": Number of cells in the cluster"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Marker Expression"}),": Presence of canonical markers for predicted types"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Entropy"}),": Distribution of cells across candidate labels"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"decision-thresholds",children:"Decision Thresholds"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Metric"}),(0,s.jsx)(n.th,{children:"Low"}),(0,s.jsx)(n.th,{children:"Medium"}),(0,s.jsx)(n.th,{children:"High"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Confidence"}),(0,s.jsx)(n.td,{children:"< 0.3"}),(0,s.jsx)(n.td,{children:"0.3 - 0.7"}),(0,s.jsx)(n.td,{children:"> 0.7"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Delta"}),(0,s.jsx)(n.td,{children:"< 0.1"}),(0,s.jsx)(n.td,{children:"0.1 - 0.3"}),(0,s.jsx)(n.td,{children:"> 0.3"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["For detailed decision trees and threshold tuning, see the ",(0,s.jsx)(n.a,{href:"/CellType-Refinery/docs/methodology/tuning-guide",children:"Tuning Guide"})," and ",(0,s.jsx)(n.a,{href:"/CellType-Refinery/docs/methodology/refinement-decision-logic",children:"Refinement Decision Logic"})," documentation."]}),"\n",(0,s.jsx)(n.h2,{id:"cli-examples",children:"CLI Examples"}),"\n",(0,s.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# View help for refine command\ncelltype-refinery refine --help\n\n# Diagnostic run with auto policy\ncelltype-refinery refine input.h5ad --auto\n\n# Execute auto refinements\ncelltype-refinery refine input.h5ad --auto --execute\n"})}),"\n",(0,s.jsx)(n.h3,{id:"manual-configuration",children:"Manual Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Diagnostic run with manual config\ncelltype-refinery refine input.h5ad --config curation.yaml\n\n# Execute manual refinements\ncelltype-refinery refine input.h5ad --config curation.yaml --execute\n\n# Hybrid mode with overrides\ncelltype-refinery refine input.h5ad --auto --config overrides.yaml --execute\n"})}),"\n",(0,s.jsx)(n.h3,{id:"output-control",children:"Output Control"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Specify output path\ncelltype-refinery refine input.h5ad --auto --execute --output refined_output.h5ad\n\n# Generate detailed diagnostic report\ncelltype-refinery refine input.h5ad --auto --report detailed_report.csv\n\n# Verbose logging\ncelltype-refinery refine input.h5ad --auto --execute --verbose\n"})}),"\n",(0,s.jsx)(n.h3,{id:"advanced-options",children:"Advanced Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Custom confidence threshold\ncelltype-refinery refine input.h5ad --auto --execute --min-confidence 0.5\n\n# Limit operations to specific clusters\ncelltype-refinery refine input.h5ad --auto --execute --clusters 0,1,5,12\n\n# Dry run to preview execution plan\ncelltype-refinery refine input.h5ad --auto --dry-run\n"})}),"\n",(0,s.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/CellType-Refinery/docs/methodology/refinement-decision-logic",children:"Refinement Decision Logic"})," - Detailed explanation of the decision framework"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/CellType-Refinery/docs/modules/refinement/policies",children:"Policies"})," - Policy types and configuration options"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/CellType-Refinery/docs/modules/refinement/operations",children:"Operations"})," - Available refinement operations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/CellType-Refinery/docs/methodology/tuning-guide",children:"Tuning Guide"})," - Practical tips for optimizing refinement parameters"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/CellType-Refinery/docs/modules/annotation/marker-scoring",children:"Marker Scoring"})," - Understanding the scores used in refinement decisions"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453(e,n,i){i.d(n,{R:()=>t,x:()=>o});var r=i(6540);const s={},l=r.createContext(s);function t(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);