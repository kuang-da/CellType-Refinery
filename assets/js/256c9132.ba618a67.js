"use strict";(globalThis.webpackChunkcelltype_refinery_docs=globalThis.webpackChunkcelltype_refinery_docs||[]).push([[5048],{5295(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>a,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"modules/clustering/leiden-clustering","title":"Leiden Clustering","description":"Community detection using the Leiden algorithm.","source":"@site/docs/modules/clustering/leiden-clustering.md","sourceDirName":"modules/clustering","slug":"/modules/clustering/leiden-clustering","permalink":"/CellType-Refinery/docs/modules/clustering/leiden-clustering","draft":false,"unlisted":false,"editUrl":"https://github.com/kuang-da/CellType-Refinery/tree/main/celltype-refinery-docs/docs/modules/clustering/leiden-clustering.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Clustering Overview","permalink":"/CellType-Refinery/docs/modules/clustering/overview"},"next":{"title":"Differential Expression","permalink":"/CellType-Refinery/docs/modules/clustering/differential-expression"}}');var l=i(4848),t=i(8453);const s={sidebar_position:2},c="Leiden Clustering",o={},d=[{value:"Algorithm",id:"algorithm",level:2},{value:"GPU Acceleration",id:"gpu-acceleration",level:2},{value:"CLI",id:"cli",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"leiden-clustering",children:"Leiden Clustering"})}),"\n",(0,l.jsx)(n.p,{children:"Community detection using the Leiden algorithm."}),"\n",(0,l.jsx)(n.mermaid,{value:'flowchart LR\n    subgraph Input\n        A[merged.h5ad<br/>batchcorr layer]\n    end\n\n    subgraph Pipeline["Clustering Pipeline"]\n        B[Scale Data] --\x3e C[PCA<br/>n_pcs=30]\n        C --\x3e D[k-NN Graph<br/>k=15]\n        D --\x3e E[Leiden<br/>resolution=0.6]\n    end\n\n    subgraph Output\n        F[cluster_lvl0<br/>assignments]\n    end\n\n    A --\x3e B\n    E --\x3e F\n\n    style E fill:#FFD700'}),"\n",(0,l.jsx)(n.h2,{id:"algorithm",children:"Algorithm"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Compute PCA embeddings"}),"\n",(0,l.jsx)(n.li,{children:"Build k-NN graph"}),"\n",(0,l.jsx)(n.li,{children:"Run Leiden clustering"}),"\n",(0,l.jsx)(n.li,{children:"Assign cluster labels"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"gpu-acceleration",children:"GPU Acceleration"}),"\n",(0,l.jsx)(n.p,{children:"GPU-accelerated Leiden via RAPIDS is non-deterministic. Cluster counts may vary between runs."}),"\n",(0,l.jsx)(n.h2,{id:"cli",children:"CLI"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"celltype-refinery cluster leiden \\\n  --input merged.h5ad \\\n  --resolution 0.6 \\\n  --use-gpu \\\n  --out output/\n"})})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(u,{...e})}):u(e)}},8453(e,n,i){i.d(n,{R:()=>s,x:()=>c});var r=i(6540);const l={},t=r.createContext(l);function s(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);